<!DOCTYPE html>

<html lang="en">
  <body>
    <h1>Hello!</h1>
    <button type="button">Click Me!</button>
    <h2> Create a text file and save it to a local computer using JavaScript. </h2>
    <p> Enter the file content:- </p>
    <textarea> </textarea>
    <br/>
    <button onclick = "downloadFile()"> save File </button>
    <script>
       const downloadFile = () => {
          const link = document.createElement("a");
          const content = document.querySelector("textarea").value;
          const file = new Blob([content], { type: 'text/plain' });
          link.href = URL.createObjectURL(file);
          link.download = "sample.txt";
          link.click();
          URL.revokeObjectURL(link.href);
       };
    </script>
    <h2> Download via http request </h2>
    <p> url set up by Google Function </p>
    <textarea> </textarea>
    <br/>
    <button onclick = "downloadFile2()"> save File2 </button>
    <script>
       const downloadFile2 = () => {
		   const link = document.createElement("a");
		   const content = fetchAsync("https://us-west1-cuhealthai-sandbox.cloudfunctions.net/python-http-function?name=Chris");
		   const file = new Blob([content], { type: 'text/plain' });
		   link.href = URL.createObjectURL(file);
		   link.download = "sample2.txt";
		   link.click();
		   URL.revokeObjectURL(link.href);
       };
    </script>
  </body>
</html>
